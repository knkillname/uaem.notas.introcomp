# Pr√°ctica: Construyendo un Mini-Motor de Recomendaciones üé¨

En esta pr√°ctica, aplicaremos nuestros conocimientos sobre **Diccionarios** y **Conjuntos** para construir algo que usas todos los d√≠as: un sistema de recomendaci√≥n (como el de Netflix, Spotify o YouTube).

## Objetivos

- **Modelar** informaci√≥n compleja usando estructuras de datos anidadas (Diccionarios de Conjuntos).
- **Aplicar** operaciones matem√°ticas de conjuntos (Intersecci√≥n, Uni√≥n, Diferencia) para resolver problemas de l√≥gica de negocio.
- **Implementar** el **√çndice de Jaccard**, una m√©trica fundamental en ciencia de datos para medir similitud.
- **Desarrollar** una funci√≥n que tome decisiones basadas en datos.

---

## Parte 1: El Problema üéØ

Imagina que has sido contratado por una nueva plataforma de streaming. Tu jefe te dice:

> "Necesitamos una forma de recomendar pel√≠culas a nuestros usuarios. La idea es simple: si a **Juan** le gustan las mismas pel√≠culas que a **Mar√≠a**, probablemente a Juan le gusten las pel√≠culas que Mar√≠a ha visto y √©l todav√≠a no."

Tu misi√≥n es escribir un programa en Python que automatice este razonamiento.

---

## Parte 2: Los Datos üíæ

Para representar nuestra "base de datos", usaremos un **Diccionario**.

- Las **claves** ser√°n los nombres de los usuarios (Strings).
- Los **valores** ser√°n **Conjuntos** (`set`) que contienen los t√≠tulos de las pel√≠culas que les gustaron.

Usamos conjuntos porque:

1. El orden en que vieron las pel√≠culas no importa.
2. No queremos duplicados (no puedes dar "like" dos veces a la misma pel√≠cula).
3. Las operaciones de comparaci√≥n son muy r√°pidas.

Copia esta estructura en tu cuaderno:

```python
base_de_datos = {
    "Ana": {"El Padrino", "Matrix", "Pulp Fiction", "Interestelar"},
    "Beto": {"Matrix", "Star Wars", "El Se√±or de los Anillos", "Interestelar"},
    "Carla": {"Titanic", "El Diario de una Pasi√≥n", "Matrix"},
    "David": {"El Padrino", "Pulp Fiction", "Scarface", "Taxi Driver"},
    "Elena": {"Star Wars", "Interestelar", "El Se√±or de los Anillos", "Matrix"}
}
```

---

## Parte 3: Midiendo la Similitud (√çndice de Jaccard) üìè

Para encontrar al "alma gemela" cinematogr√°fica de un usuario, necesitamos ponerle un n√∫mero a qu√© tan parecidos son sus gustos. Usaremos el **√çndice de Jaccard**.

Dados dos conjuntos de pel√≠culas, $A$ (usuario 1) y $B$ (usuario 2), la similitud se calcula como:

$$ J(A, B) = \frac{|A \cap B|}{|A \cup B|} $$

En palabras simples:
$$ \text{Similitud} = \frac{\text{Pel√≠culas que AMBOS vieron}}{\text{Total de pel√≠culas √∫nicas entre los dos}} $$

- Si tienen exactamente los mismos gustos, $J = 1.0$ ($100\%$).
- Si no coinciden en nada, $J = 0.0$ ($0\%$).

### Ejercicio 1

Implementa una funci√≥n `calcular_similitud(usuario1, usuario2)` que reciba dos conjuntos y devuelva su √≠ndice de Jaccard (un `float` entre 0 y 1).

*Pista: Recuerda que en Python la intersecci√≥n es `&` y la uni√≥n es `|`.*

---

## Parte 4: El Motor de Recomendaci√≥n ‚öôÔ∏è

Ahora vamos a armar la pieza central. Necesitamos una funci√≥n `recomendar_pelicula(usuario_objetivo, db)` que haga lo siguiente:

1. **Recorrer** a todos los dem√°s usuarios de la base de datos (¬°cuidado de no compararse consigo mismo!).
2. **Calcular** la similitud entre el `usuario_objetivo` y cada uno de los otros usuarios.
3. **Encontrar** al usuario con la mayor similitud (el "vecino m√°s cercano").
4. **Identificar** las pel√≠culas que vio ese vecino pero que el `usuario_objetivo` **NO** ha visto.
   - *Pista: Esto es una operaci√≥n de Diferencia de Conjuntos (`vecino - objetivo`).*
5. **Devolver** esas pel√≠culas como recomendaci√≥n.

### Ejercicio 2

Implementa la funci√≥n y pru√©bala.

- ¬øQu√© le recomienda el sistema a **Ana**? (Deber√≠a ser alguien parecido a David).
- ¬øQu√© le recomienda a **Beto**? (Deber√≠a ser alguien parecido a Elena).

```python
def recomendar_pelicula(nombre, db):
    # Tu c√≥digo aqu√≠
    pass

# Prueba
print(recomendar_pelicula("Ana", base_de_datos))
```

---

## Parte 5: Reto Final - Tu Perfil üöÄ

1. Agrega una entrada al diccionario `base_de_datos` con **tu nombre** y un conjunto de 4 o 5 pel√≠culas que te gusten (trata de incluir algunas que ya est√©n en la lista y otras nuevas).
2. Ejecuta tu motor de recomendaci√≥n para ti mismo.
3. ¬øQui√©n es tu usuario m√°s af√≠n en esta base de datos? ¬øTe gusta la recomendaci√≥n que te dio?

---

## Reflexi√≥n (Discusi√≥n con LLM) ü§ñ

Preg√∫ntale a tu asistente de IA:

- *"¬øC√≥mo escalar√≠a este algoritmo si tuvi√©ramos 1 mill√≥n de usuarios? ¬øSer√≠a eficiente comparar a todos contra todos?"*
- *"¬øQu√© es el 'Filtrado Colaborativo' (Collaborative Filtering) y en qu√© se diferencia de lo que acabamos de programar?"*
